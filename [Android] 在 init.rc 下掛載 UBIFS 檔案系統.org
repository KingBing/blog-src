#+TITLE: [Android] 在 init.rc 下掛載 UBIFS 檔案系統
#+AUTHOR: coldnew
#+EMAIL:  coldnew.tw@gmail.com
#+DATE:   2014-01-11 10:08:51
#+LANGUAGE: zh_TW
#+URL:    andro
#+OPTIONS: num:nil ^:nil
#+TAGS:

#+BLOGIT_TYPE: draft

在 Android 的 init.rc 中，可以看到掛載檔案系統使用的 =mount= 命令，而
這命令和我們一般在 Linux 下使用的 mount 命令不同，是個提供給 init 運作的描
述句，你可以在 =system/core/init/builtins.c= 找到他的實現。

在大多數的 Android 設備中，常常可以看到掛載 yaffs2 的描述，卻很少看到 ubifs

#+BEGIN_SRC sh
  mount yaffs2 mtd@system /system
#+END_SRC

為什麼理應效能比較好的 ubifs 卻未被 Android 系統廣泛使用？個人推測有以下原
因

- 1. Android 採用 yaffs2 作為 MTD NAND Flash 檔案系統

- 2. 大多數的 Android 設備 (ex:手機) 都內建有 emmc 作為儲存空間

實際上在我下載到的 AOSP 原始碼中，init 也看不到有支援 ubifs 的影子，那
我們想讓 Android 的 init 掛載 ubifs 要怎麼辦? 這時候只好自己來了 ~



* 參考連結

~[1]~ [[http://blog.chinaunix.net/uid-22028680-id-3015767.html][採用 UBIFS 製作 Android 的文件系統]]

~[2]~ [[http://www.cnblogs.com/linucos/p/3279381.html][android 和 ubifs]]
